[gd_scene load_steps=12 format=3 uid="uid://dyafqn7h0fqva"]

[ext_resource type="PackedScene" uid="uid://bcmpqyfcok40g" path="res://res/rooms/cafe_room.tscn" id="1_4ef60"]
[ext_resource type="PackedScene" uid="uid://ch7t0mltj8jjw" path="res://util/activator.tscn" id="1_cuk6y"]
[ext_resource type="PackedScene" uid="uid://cpal2j5bw454l" path="res://objs/entity/Hero.tscn" id="2_onwa2"]
[ext_resource type="PackedScene" uid="uid://ck1i5y3byl6tx" path="res://objs/hud/menu/Menu.tscn" id="3_l4xth"]
[ext_resource type="PackedScene" uid="uid://ftalhwisot03" path="res://objs/entity/custommer_1.tscn" id="5_i022i"]
[ext_resource type="PackedScene" uid="uid://cn2ggrtybt3pw" path="res://objs/entity/custommer_2.tscn" id="6_2s31q"]
[ext_resource type="PackedScene" uid="uid://c5104msve6u7i" path="res://objs/entity/custommer_3.tscn" id="7_qeauf"]
[ext_resource type="PackedScene" uid="uid://boa5gp5qwxt7k" path="res://objs/entity/order_table_1.tscn" id="8_3vjjj"]
[ext_resource type="PackedScene" uid="uid://5x86ubc5mvwp" path="res://objs/entity/order_table_2.tscn" id="9_ujvbm"]
[ext_resource type="PackedScene" uid="uid://cmsrdbw7wm4ek" path="res://objs/entity/order_table_3.tscn" id="10_dfhqm"]
[ext_resource type="PackedScene" uid="uid://byo5i4e6ipydk" path="res://objs/entity/cafe_start_game.tscn" id="11_238be"]

[node name="Cafe" type="SingleHeroScene"]
hero_key = "hero"
hero_path = NodePath("Hero")
triggers_container_path = NodePath("triggers")

[node name="triggers" type="Node" parent="."]

[node name="TriggerNextRoom" type="TriggerNextRoom" parent="triggers"]
next_scene = "res://scenes/home.tscn"
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, -8)

[node name="activator" parent="triggers/TriggerNextRoom" instance=ExtResource("1_cuk6y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.45056, 0.486391, 0)

[node name="order_camera" type="TriggerCameraTarget" parent="triggers"]
marker = NodePath("Marker3D2")

[node name="Marker3D2" type="Marker3D" parent="triggers/order_camera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.43973, 0.0391048, -0.613051)

[node name="client_camera" type="TriggerCameraTarget" parent="triggers"]
marker = NodePath("Marker3D")

[node name="Marker3D" type="Marker3D" parent="triggers/client_camera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.28713, 0.0391048, -0.613051)

[node name="hero_camera" type="TriggerCameraTarget" parent="triggers"]
marker = NodePath("../../Hero")

[node name="TriggerTeleport" type="TriggerTeleport" parent="triggers"]
marker = NodePath("Marker3D")
obj = NodePath("../TriggerNextRoom")

[node name="Marker3D" type="Marker3D" parent="triggers/TriggerTeleport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, 0)

[node name="CafeScene" parent="." instance=ExtResource("1_4ef60")]

[node name="Hero" parent="." groups=["for_save"] instance=ExtResource("2_onwa2")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -1.70388, 0.534223, 0)

[node name="ECamera" type="ECamera" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.64195, 1.11256, 3)
target_path = NodePath("../Hero")
speed_scale = 1.0
outside_delta = Vector3(0, -1.5, -3)

[node name="Menu" parent="." instance=ExtResource("3_l4xth")]

[node name="Hud" type="Hud" parent="."]
offset_right = 40.0
offset_bottom = 40.0

[node name="CaffeController" type="CaffeController" parent="."]
clients = Array[NodePath]([NodePath("../Custommer1"), NodePath("../Custommer2"), NodePath("../Custommer3")])
order_tables = Array[NodePath]([NodePath("../OrderTable1"), NodePath("../OrderTable2"), NodePath("../OrderTable3")])
orders = Array[String](["res://res/sprites/items/burger.png", "res://res/sprites/items/google_cactus.png", "res://res/sprites/items/monitor2.png"])
camera_trigger_1 = NodePath("../triggers/order_camera")
camera_trigger_2 = NodePath("../triggers/client_camera")
end_trigger = NodePath("../triggers/TriggerTeleport")
camera_hero_trigger = NodePath("../triggers/hero_camera")

[node name="Custommer1" parent="." instance=ExtResource("5_i022i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.377648, 0, -1.02467)

[node name="Custommer2" parent="." instance=ExtResource("6_2s31q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.26423, 0.0395062, -1.09858)

[node name="Custommer3" parent="." instance=ExtResource("7_qeauf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.005, 0.124077, -1.12741)

[node name="OrderTable1" parent="." instance=ExtResource("8_3vjjj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.40782, 0.000363998, -1.34964)

[node name="OrderTable2" parent="." instance=ExtResource("9_ujvbm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.41134, 0.000363998, -1.4016)

[node name="OrderTable3" parent="." instance=ExtResource("10_dfhqm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.53101, 0.000363998, -1.42928)

[node name="OrderTable4" parent="." instance=ExtResource("11_238be")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.94342, 0.000363998, -0.838514)
